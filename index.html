<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="Q6j0L4Nrrj9lhvX7Y6lvAgKhfbK40OGtBPB2vgIuYTM" />
<title>VogueCrest - Inicio</title>
<style>
  /* Reset y base */
  *, *::before, *::after { box-sizing: border-box; }
  body, html {
    background: #ffffff;
    color: #000;
    overflow-x: hidden;
  }

  /* Header moderno */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background: white;
  position: sticky;
  top: 0;
  z-index: 1000;
}

.menu-label, .cart-label {
  cursor: pointer;
  user-select: none;
  font-size: 14px;
}

.logo {
  height: 50px;
  object-fit: contain;
}

/* Contador cesta alineado al lado */
.cart-label {
  color: black !important;      /* Que el texto sea negro */
  text-decoration: none !important; /* Sin subrayado ni rayas */
  outline: none !important;      /* Quita el borde de enfoque */
  user-select: none;
  cursor: pointer;
}
.cart-label:focus,
.cart-label:active,
.cart-label:visited {
  color: black !important;
  text-decoration: none !important;
  outline: none !important;
}


.cart-count {
  background: #000;
  color: #fff;
  font-size: 12px;
  font-weight: 700;
  padding: 2px 7px;
  border-radius: 50%;
  min-width: 20px;
  text-align: center;
  line-height: 1;
  display: inline-block;
}

/* Menú móvil */
.menu-mobile {
  position: fixed;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100vh;
  background: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
  transition: left 0.3s ease-in-out;
  z-index: 9999;
}

.menu-mobile a {
  text-decoration: none;
  color: black;
  font-weight: 500;
}

/* Caja desplegable cesta */
#cartDropdown {
  position: fixed;
  top: 60px;
  right: 20px;
  width: 320px;
  max-height: 400px;
  background: white;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  border-radius: 10px;
  overflow-y: auto;
  padding: 15px;
  z-index: 15000;
  display: none;
}

#cartDropdown h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-family: 'Playfair Display', serif;
  font-weight: 700;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
}

.cart-item img {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 6px;
}

.cart-item-details {
  flex: 1;
  margin-left: 10px;
}

.cart-item-name {
  font-weight: 600;
  font-size: 14px;
  margin-bottom: 4px;
}

.cart-item-qty-price {
  font-size: 12px;
  color: #555;
}

#cartTotal {
  font-weight: 700;
  text-align: right;
  margin-top: 10px;
  font-size: 16px;
}

#emptyCartMsg {
  text-align: center;
  color: #777;
  font-size: 14px;
  padding: 20px 0;
}

#btnCheckout {
  width: 100%;
  padding: 12px;
  background: black;
  color: white;
  border: none;
  border-radius: 30px;
  font-weight: 700;
  cursor: pointer;
  margin-top: 15px;
  font-size: 16px;
}
#btnCheckout:hover {
  background: #444;
}

/* Responsive */
@media (max-width: 720px) {
  body {
    padding-bottom: 120px;
  }
  .cart-item {
    flex-direction: column;
    align-items: flex-start;
  }
  .cart-item .left-block, .cart-item .right-block {
    flex: 1 1 100%;
    min-width: auto;
    margin-bottom: 10px;
  }
  .cart-item .right-block {
    align-items: flex-start;
  }
  #btnPagar {
    bottom: 50px;
    left: 20px;
    right: 20px;
    z-index: 99;
    border-radius: 15px;
    font-size: 1.4rem;
  }
  footer {
    bottom: 0;
  }
  #cartDropdown {
    width: 90vw;
    right: 5vw;
    max-height: 60vh;
  }
}

.menu-mobile.show {
  left: 0;
}

/* Splash TikTok style */
#splash {
  position: fixed;
  z-index: 20000;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
}
.splash-content {
  text-align: center;
  animation: pulse 1.2s infinite ease-in-out;
}
.splash-content img {
  width: 120px;
  margin-bottom: 20px;
}
.splash-content h1 {
  font-size: 2rem;
  font-weight: bold;
  color: #000;
}

main {
  padding-top: 60px;
  padding-bottom: 50px;
}

/* Ajustes solo para gift */
#gift {
  position: relative;
  width: 100%;
  max-width: 900px;
  aspect-ratio: 16 / 9;
  margin: 60px auto;
  padding: 0 15px;
  overflow: hidden;
  border-radius: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #fff;
}

#gift img {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* Centrado absoluto */
  opacity: 0;
  transition: opacity 1s ease-in-out;
  background: #fff;
}

#gift img.active {
  opacity: 1;
  z-index: 5;
}

@media (max-width: 600px) {
  #gift {
    max-width: 100vw;
    padding: 0 5px;
    margin-top: 70px; /* similar ajuste en móvil */
  }
}

/* Ajustes para la imagen grande dentro de .left-img */
.left-img {
  display: flex;
  justify-content: center;
  padding: 0 20px 40px;
  margin-top: 100px; /* espacio extra arriba */
  margin-bottom: 40px;
}


.left-img img {
  width: 113%;
  max-width: 800px;
  height: auto;
  object-fit: contain;
  display: block;
}

/* Ajustes para el carrusel */
.carousel-section {
  overflow: hidden;
  width: 100%;
  padding: 40px 0;
  margin-bottom: 40px;
}

.carousel-container {
  width: 100%;
  overflow-x: auto;
  position: relative;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory; /* hace que deslice una prenda a la vez */
}

.carousel-track {
  display: flex;
  gap: 20px;
  flex-wrap: nowrap;
  animation: scroll 15s linear infinite; /* animación automática del primer carrusel */
}

.carousel-track.pause {
  animation-play-state: paused; /* pausa animación al hover o toque */
}

.carousel-item {
  flex: 0 0 auto;
  width: 280px;
  height: 360px;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s;
  scroll-snap-align: start;
}

.carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s;
}

.carousel-item:hover img {
  transform: scale(1.05);
}

@keyframes scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@media (max-width: 600px) {
  .carousel-track {
    gap: 10px;
    padding-left: 10px;
    animation: none; /* sin animación en móvil para scroll manual */
  }

  .carousel-item {
    width: 90vw;
    height: 380px;
  }

  .carousel-item img {
    height: 100%;
  }

  .carousel-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
  }
}

/* Ticker Inferior */
.ticker-wrapper {
  width: 100%;
  overflow: hidden;
  background: #000;
  color: #fff;
  position: fixed;
  bottom: 0;
  left: 0;
  z-index: 11000;
}
.ticker {
  display: inline-flex;
  white-space: nowrap;
  animation: tickerMove 20s linear infinite;
}
.ticker span { margin-right: 60px; }
@keyframes tickerMove {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Secciones */
#film video {
  display: block;
  width: 100%;
  height: auto;
  max-width: 1000px;
  max-height: 80vh;
  margin: 0 auto 40px;
  object-fit: cover;
  border-radius: 10px;
}

#historia img {
  max-width: 90vw;
  border-radius: 8px;
  margin-bottom: 20px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}
#tienda {
  text-align: center;
  padding: 40px 20px;
}
#tienda h2 {
  font-size: 2.5rem;
  margin-bottom: 25px;
}
button.btn-enter {
  padding: 15px 50px;
  background: #000;
  color: #fff;
  font-weight: 700;
  font-size: 1.2rem;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  transition: background 0.3s;
}
button.btn-enter:hover {
  background: #444;
}

.caption {
  position: absolute;
  bottom: -25px;
  left: 0;
  font-size: 12px;
  color: #333;
  font-weight: normal;
}

.right-imgs {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 15px;
  position: relative;
}

.right-imgs .big {
  height: auto;
  max-height: 400px;
  object-fit: cover;
  box-shadow: 0 8px 16px rgba(0,0,0,0.15);
  margin-top: 180px;
  width: 100%;
}

.right-imgs .small-container {
  display: flex;
  justify-content: flex-end;
}

.right-imgs .small-container img {
  width: 180px;
  height: auto;
  max-height: 180px;
  object-fit: cover;
  background: white;
  margin-top: -40px;
}

.text-section {
  text-align: center;
  font-size: 12px;
  color: #111;
  line-height: 1.6;
  padding: 40px 20px;
  max-width: 800px;
  margin: 0 auto 60px;
}

@media (max-width: 900px) {
  .image-group {
    gap: 15px;
  }

  .right-imgs .big {
    max-height: 250px;
  }
  .right-imgs .small-container img {
    width: 120px;
    max-height: 120px;
    margin-top: -25px;
  }
  .caption {
    font-size: 11px;
    bottom: -20px;
  }
}

@media (max-width: 550px) {
  .image-group {
    gap: 10px;
    flex-wrap: nowrap;
  }
  .left-img {
    flex: 1.5;
  }
  .right-imgs {
    flex: 1;
    gap: 10px;
  }
  .right-imgs .small-container img {
    width: 90px;
    max-height: 90px;
    margin-top: -20px;
  }
}

/* Animación pulso splash */
@keyframes pulse {
  0%, 100% {opacity: 1;}
  50% {opacity: 0.6;}
}

.hide-splash {
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
}
</style>
</head>
<body>

<!-- Splash Animation -->
<div id="splash">
  <div class="splash-content">
    <video src="251.mp4" autoplay muted playsinline style="width:900px; margin-bottom:20px;"></video>
  </div>
</div>


<!-- HEADER MODERNO -->
<!-- HEADER MODERNO -->
<header>
  <div class="menu-label" id="menu-toggle">MENÚ</div>
  <img src="100.png" alt="VogueCrest" class="logo" />
  
  <a href="sesion.html" id="guestLabel" style="font-weight: 700; font-size: 14px; cursor: pointer; user-select: none; text-decoration: none; color: black; display:none;">
  Invitado
</a>


  <a href="cesta.html" class="cart-label" id="cartLabel" aria-label="Ir a la cesta de compras" style="display:none;">
    CESTA
    <span class="cart-count" id="cartCount">0</span>
  </a>
</header>



<!-- MENÚ MÓVIL DESLIZANTE -->
<nav class="menu-mobile" id="mobileMenu">
  <a href="index.html">INICIO</a>
  <a href="colecciones.html">COLECCIONES</a>
  <a href="acerca.html">ACERCA DE</a>
  <a href="editorial.html">OUT & ABOUT</a>
  <a href="looks.html">LOOKS</a>
  <a href="contacto.html">CONTACTANOS</a>
  <a href="sesion.html">INICIAR SESION</a>
  <a href="cuenta.html">CUENTA</a>
    <a href="asistente.html">ASISTENTE</a>
  <a href="#" onclick="toggleMenu()">CERRAR</a>
</nav>

<!-- CESTA DESPLEGABLE -->
<div id="cartDropdown" aria-label="Cesta de productos">
  <h3>Tu cesta</h3>
  <div id="cartItems"></div>
  <div id="emptyCartMsg">Tu cesta está vacía</div>
  <div id="cartTotal"></div>
  <button id="btnCheckout">Proceder al pago</button>
</div>

<main>
  <section id="gift">
    <img src="015.png" alt="Prenda 1" class="active" />
    <img src="258.png" alt="Prenda 2" />
    <img src="106.png" alt="Prenda 3" />
  </section>

  <div class="image-group">
    <div class="left-img">
      <img src="210.jpeg" alt="Imagen grande izquierda 1" />
      <div class="caption">DROP 01
        <P>NICARAGUA</P>
        2025
      </div>
    </div>
  </div>
  <!-- CARRUSEL 1 -->
  <section class="carousel-section">
    <div class="carousel-container">
      <div class="carousel-track" id="carousel1">
        <div class="carousel-item" data-category="">
          <a href="producto.html?producto=prenda1" class="carousel-link">
            <img src="013.png" alt="Prenda 1" />
          </a>
        </div>
        <div class="carousel-item" data-category="Gorras">
          <a href="producto.html?producto=prenda2" class="carousel-link">
            <img src="019.png" alt="Prenda 2" />
          </a>
        </div>
        <div class="carousel-item" data-category="Shorts">
          <a href="producto.html?producto=prenda3" class="carousel-link">
            <img src="014.png" alt="Prenda 3" />
          </a>
        </div>
        <div class="carousel-item" data-category="camisetas">
          <a href="producto.html?producto=prenda4" class="carousel-link">
            <img src="015.png" alt="Prenda 4" />
          </a>
        </div>
        <div class="carousel-item" data-category="camisetas">
          <a href="producto.html?producto=prenda5" class="carousel-link">
            <img src="016.png" alt="Prenda 5" />
          </a>
        </div>
        <div class="carousel-item" data-category="Shorts">
          <a href="producto.html?producto=prenda6" class="carousel-link">
            <img src="018.png" alt="Prenda 6" />
          </a>
        </div>
        <div class="carousel-item" data-category="Camisetas">
          <a href="producto.html?producto=prenda7" class="carousel-link">
            <img src="258.png" alt="Prenda 7" />
          </a>
        </div>
        <div class="carousel-item" data-category="Camisetas">
          <a href="producto.html?producto=prenda8" class="carousel-link">
            <img src="8.png" alt="Prenda 8" />
          </a>
        </div>
        <div class="carousel-item" data-category="Gorras">
          <a href="producto.html?producto=prenda9" class="carousel-link">
            <img src="15.png" alt="Prenda 8" />
          </a>
        </div>
        <div class="carousel-item" data-category="Shorts">
          <a href="producto.html?producto=prenda10" class="carousel-link">
            <img src="19.png" alt="Prenda 10" />
          </a>
        </div>
      </div>
    </div>
  </section>

  
</main>

<div class="ticker-wrapper" aria-hidden="true">
  <div class="ticker">
    <span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span><span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span>
    <span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span><span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span>
    <span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span><span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span>
    <span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span><span>VOGUECRESTS </span><SPan>.</SPan> <SPan>DROP 01</span>



  </div>
</div>

<script>
// Splash ocultar después de 2.2 seg
window.addEventListener("load", () => {
  const splash = document.getElementById("splash");
  setTimeout(() => {
    splash.classList.add("hide-splash");
    setTimeout(() => (splash.style.display = "none"), 1000);
  }, 2200);
});

// Toggle menú móvil
const menuToggle = document.getElementById("menu-toggle");
const mobileMenu = document.getElementById("mobileMenu");
menuToggle.addEventListener("click", () => {
  mobileMenu.classList.toggle("show");
});

function toggleMenu() {
  mobileMenu.classList.remove("show");
}

// Elementos DOM para carrito
const cartLabel = document.getElementById("cartLabel");
const cartDropdown = document.getElementById("cartDropdown");
const cartCount = document.getElementById("cartCount");
const cartItemsContainer = document.getElementById("cartItems");
const emptyCartMsg = document.getElementById("emptyCartMsg");
const cartTotalEl = document.getElementById("cartTotal");
const btnCheckout = document.getElementById("btnCheckout");

// Cargar carrito desde localStorage o inicializar vacío
let cart = JSON.parse(localStorage.getItem("voguecrest_cart")) || [];

// Limpiar carrito si contiene solo el producto demo
if (cart.length === 1 && cart[0].name === "Prenda Demo") {
  cart = [];
  localStorage.removeItem("voguecrest_cart");
}

// Obtener productoId desde href (función reutilizable)
function obtenerProductoDesdeHref(href) {
  try {
    const url = new URL(href, window.location.origin);
    return url.searchParams.get("producto");
  } catch (e) {
    return null;
  }
}

// Marcar productos agotados y bloquear clic solo si están en carrito y en agotados
function marcarAgotados() {
  const agotados = JSON.parse(localStorage.getItem("voguecrest_agotados")) || [];
  const items = document.querySelectorAll(".carousel-item");

  // Obtener IDs de productos en carrito
  const idsEnCarrito = cart.map((item) => item.id);

  items.forEach((item) => {
    const link = item.querySelector("a.carousel-link");
    if (!link) return;

    const productoId = obtenerProductoDesdeHref(link.href);
    if (!productoId) return;

    if (agotados.includes(productoId) && idsEnCarrito.includes(productoId)) {
      if (!item.querySelector(".agotado-label")) {
        const label = document.createElement("div");
        label.textContent = "AGOTADO";
        label.className = "agotado-label";
        Object.assign(label.style, {
          position: "absolute",
          top: "10px",
          left: "10px",
          backgroundColor: "rgba(255, 0, 0, 0.8)",
          color: "white",
          padding: "4px 8px",
          fontWeight: "bold",
          borderRadius: "5px",
          zIndex: "10",
          fontSize: "14px",
          pointerEvents: "none",
          userSelect: "none",
        });
        item.style.position = "relative";
        item.appendChild(label);
      }
      link.style.pointerEvents = "none";
      link.style.opacity = "0.5";
      item.style.cursor = "default";
    } else {
      const etiqueta = item.querySelector(".agotado-label");
      if (etiqueta) etiqueta.remove();
      link.style.pointerEvents = "auto";
      link.style.opacity = "1";
      item.style.cursor = "pointer";
    }
  });
}

// Actualizar UI carrito (lista de productos y total)
function updateCartUI() {
  if (cart.length === 0) {
    emptyCartMsg.style.display = "block";
    cartItemsContainer.innerHTML = "";
    cartTotalEl.textContent = "";
    btnCheckout.style.display = "none";
    return;
  }
  emptyCartMsg.style.display = "none";
  btnCheckout.style.display = "block";

  let total = 0;
  cartItemsContainer.innerHTML = "";

  cart.forEach((item) => {
    const itemDiv = document.createElement("div");
    itemDiv.className = "cart-item";

    const img = document.createElement("img");
    img.src = item.img;
    img.alt = item.name;

    const details = document.createElement("div");
    details.className = "cart-item-details";

    const name = document.createElement("div");
    name.className = "cart-item-name";
    name.textContent = item.name;

    const qtyPrice = document.createElement("div");
    qtyPrice.className = "cart-item-qty-price";
    qtyPrice.textContent = `Cantidad: ${item.cantidad} · Precio: $${item.price}`;

    details.appendChild(name);
    details.appendChild(qtyPrice);

    itemDiv.appendChild(img);
    itemDiv.appendChild(details);

    cartItemsContainer.appendChild(itemDiv);

    total += item.price * item.cantidad;
  });

  cartTotalEl.textContent = `Total: $${total.toFixed(2)}`;
}

// Actualizar contador sumando todas las cantidades del carrito
function updateCartCount() {
  const totalCantidad = cart.reduce((acc, item) => acc + (item.cantidad || 0), 0);
  cartCount.textContent = totalCantidad;
  cartCount.style.display = totalCantidad === 0 ? "none" : "inline-block";
}

// Eliminar producto del carrito y también quitarlo de agotados
function eliminarProductoDelCarrito(productoId, talla, color) {
  // Filtrar para eliminar el producto específico
  cart = cart.filter(
    (item) => !(item.id === productoId && item.talla === talla && item.color === color)
  );

  // Guardar carrito actualizado
  localStorage.setItem("voguecrest_cart", JSON.stringify(cart));

  // Actualizar agotados: remover el producto eliminado
  let agotados = JSON.parse(localStorage.getItem("voguecrest_agotados")) || [];
  if (agotados.includes(productoId)) {
    agotados = agotados.filter((id) => id !== productoId);
    localStorage.setItem("voguecrest_agotados", JSON.stringify(agotados));
  }

  refreshCart();
}

// Actualizar todo (UI, contador, y estado agotados)
function refreshCart() {
  updateCartUI();
  updateCartCount();

  // Si el carrito está vacío, también vaciar agotados
  if (cart.length === 0) {
    localStorage.removeItem("voguecrest_agotados");
  }

  marcarAgotados();
}

// Mostrar / ocultar desplegable carrito
cartLabel.addEventListener("click", () => {
  if (cartDropdown.style.display === "block") {
    cartDropdown.style.display = "none";
  } else {
    cartDropdown.style.display = "block";
  }
});

// Botón proceder al pago
btnCheckout.addEventListener("click", () => {
  alert("Funcionalidad de pago no implementada todavía.");
});

// Actualizar carrito y contador al cargar
refreshCart();

// Gift rotativo (cambio de imágenes cada 3 seg)
const giftImages = document.querySelectorAll("#gift img");
let currentGiftIndex = 0;

setInterval(() => {
  giftImages[currentGiftIndex].classList.remove("active");
  currentGiftIndex = (currentGiftIndex + 1) % giftImages.length;
  giftImages[currentGiftIndex].classList.add("active");
}, 3000);

// Pausar animación carrusel al pasar mouse (solo en desktop)
const carousel1 = document.getElementById("carousel1");
carousel1.addEventListener("mouseenter", () => {
  carousel1.classList.add("pause");
});
carousel1.addEventListener("mouseleave", () => {
  carousel1.classList.remove("pause");
});

// Control de sesión para mostrar invitado o cesta
function updateSessionUI() {
  const userLoggedIn = localStorage.getItem("userLoggedIn");
  const guestLabel = document.getElementById("guestLabel");
  const cartLabel = document.getElementById("cartLabel");

  if (userLoggedIn) {
    // Usuario logueado: mostrar cesta, ocultar invitado
    guestLabel.style.display = "none";
    cartLabel.style.display = "inline-flex";
  } else {
    // No hay usuario: mostrar invitado, ocultar cesta
    guestLabel.style.display = "inline";
    cartLabel.style.display = "none";
  }
}

// Ejecutar al cargar la página
updateSessionUI();

</script>


</body>
</html>
