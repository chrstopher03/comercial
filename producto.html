<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Producto - VogueCrest</title>
  <style>
   * {
  box-sizing: border-box;
}
body {
  font-family: 'Playfair Display', serif;
  margin: 0; padding: 0; background: #fff; color: #000;
}
/* HEADER MODERNO */
header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 60px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  z-index: 1000;
  background: white;
  border-bottom: 1px solid #ccc;
}

.menu-label, .cart-label {
  cursor: pointer;
  text-transform: uppercase;
  font-size: 14px;
  user-select: none;
}

.logo {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 40px;
  object-fit: contain;
}

/* Menú móvil */
nav.menu-mobile {
  position: fixed;
  top: 60px;
  left: -100%;
  width: 100%;
  height: calc(100vh - 60px);
  background: white;
  color: black;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
  font-size: 18px;
  z-index: 9999;
  transition: left 0.3s ease-in-out;
}

nav.menu-mobile.show {
  left: 0;
}

nav.menu-mobile a {
  color: black;
  text-decoration: none;
  width: 100%;
  text-align: center;
  font-weight: 600;
  user-select: none;
}

nav.menu-mobile a:hover {
  background: #f0f0f0;
}
a {
  color: #000;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
.container {
  max-width: 1200px;
  margin: 40px auto;
  padding: 0 20px;
  position: relative; /* para el boton flotante */
}
.back-link {
  font-size: 14px;
  margin-bottom: 25px;
  display: inline-block;
}
.product-detail {
  display: flex;
  gap: 40px;
  flex-wrap: wrap;
}
.gallery {
  flex: 1 1 480px;
  max-width: 480px;
}
.main-image {
  width: 100%;
  height: 480px;
  border-radius: 8px;
  object-fit: cover;
  margin-bottom: 15px;
  cursor: pointer;
}
.thumbnails {
  display: flex;
  gap: 12px;
  overflow-x: auto;
}
.thumbnails img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  transition: border-color 0.3s;
  flex-shrink: 0;
}
.thumbnails img.selected {
  border-color: black;
}
.details {
  flex: 1 1 480px;
  max-width: 480px;
  display: flex;
  flex-direction: column;
  margin-bottom: 40px; /* para espacio debajo */
  position: relative; /* para posicionar el boton flotante */
}
.details h1 {
  font-size: 2rem;
  margin-top: 0;
  margin-bottom: 10px;
  font-weight: 700;
}
.price {
  font-size: 1.8rem;
  font-weight: 800;
  margin-bottom: 20px;
}
label {
  font-weight: 600;
  margin-bottom: 8px;
  display: block;
  font-size: 1rem;
}
select {
  width: 100%;
  padding: 12px;
  margin-bottom: 25px;
  border-radius: 6px;
  border: 1px solid #ccc;
  cursor: pointer;
  background: #fff;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}
button {
  background-color:#eeeeee;
  border: none;
  padding: 15px 0;
  font-weight: 700;
  font-size: 1.2rem;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  margin-bottom: 40px;
}
a, button, img {
  transition: all 0.3s ease-in-out;
}

/* ACORDEÓN detalle */
.accordion {
  border-top: 1px solid #ddd;
  padding-top: 10px;
  cursor: pointer;
  font-weight: 700;
  user-select: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1.1rem;
  margin-bottom: 0;
}
.accordion::after {
  content: "▼";
  font-size: 0.9rem;
  transition: transform 0.3s;
}
.accordion.active::after {
  transform: rotate(180deg);
}
.panel {
  transition: max-height 0.3s ease, padding 0.3s ease;
  padding: 0;
  font-size: 1rem;
  white-space: normal;
  margin-bottom: 20px;
  word-break: break-word;
}
.panel.open {
  max-height: none;
  padding: 10px 0;
}

/* Para que el contenedor de .details se expanda y empuje el carrusel */
.product-info {
  margin-top: auto;
}

/* === SECCIÓN PRODUCTOS RELACIONADOS (ACTUALIZADO) === */
.related-section {
  max-width: 1200px;
  margin: 0 auto 60px;
  padding: 0 20px;
}

.related-section h2 {
  font-size: 1.8rem;
  margin-bottom: 25px;
  font-weight: 700;
  border-bottom: 2px solid #000;
  display: inline-block;
  padding-bottom: 6px;
}

.related-products {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  padding-bottom: 12px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* Firefox */
}

.related-products::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

.related-product {
  flex: 0 0 auto;
  width: 160px;
  scroll-snap-align: start;
  cursor: pointer;
  text-align: center;
  transition: transform 0.3s ease;
}

.related-product img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 8px;
  transition: transform 0.3s ease;
}

.related-product p {
  font-size: 0.9rem;
  margin: 4px 0 0;
  color: #333;
}

.related-product:hover img {
  transform: scale(1.05);
}

/* ================== */

@media (max-width: 900px) {
  .product-detail {
    flex-direction: column;
    align-items: center;
  }
  .gallery, .details {
    max-width: 100%;
    flex: none;
  }
  .main-image {
    height: auto;
    max-height: 400px;
  }
  .thumbnails img {
    width: 60px;
    height: 60px;
  }
  button {
    font-size: 1rem;
  }
  .detalle-flotante {
    position: static !important;
    margin-top: 15px;
  }
}

  .zoom-container {
    overflow: hidden;
    display: inline-block;
  }

  .zoom-container img {
    transition: transform 0.3s ease;
    cursor: zoom-in;
  }

  .zoom-container:hover img {
    transform: scale(1.5); /* Zoom al 150% */
  }


@media (max-width: 768px) {
  .carousel-grande-item {
    width: 240px;
    height: 360px;
  }
}

/* BOTÓN + DETALLE flotante */
.detalle-flotante {
  position: absolute;
  top: 15px;
  right: -130px;
  border-radius: 30px;
  cursor: pointer;
  user-select: none;
  transition: background-color 0.3s ease;
  white-space: nowrap;
  z-index: 10;
}

@media (max-width: 900px) {
  .detalle-flotante {
    right: 20px;
    z-index: 10000;
    white-space: nowrap;
    font-size: 1rem;
    border-radius: 35px;
  }
}

/* MODAL ESTILO GNG */
.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.75);
  overflow-y: auto;
  padding: 40px 15px;
}
.modal-content {
  background-color: #fff;
  max-width: 800px;
  margin: auto;
  border-radius: 10px;
  padding: 30px 30px 40px;
  position: relative;
  box-shadow: 0 6px 20px rgba(0,0,0,0.35);
}
.close-modal {
  position: absolute;
  right: 20px;
  top: 15px;
  font-size: 32px;
  font-weight: 700;
  color: #666;
  cursor: pointer;
  user-select: none;
  transition: color 0.3s ease;
}
.close-modal:hover {
  color: #000;
}
.tabs-nav {
  gap: 15px;
  border-bottom: 2px solid #ddd;
  margin-bottom: 25px;
  flex-wrap: wrap;
}
.tabs-nav button {
  background: none;
  border: none;
  font-size: 1rem;
  font-weight: 600;
  padding: 10px 16px;
  cursor: pointer;
  border-bottom: 3px solid transparent;
  transition: border-color 0.3s ease, color 0.3s ease;
}
.tabs-nav button:hover {
  color: black;
}
.tabs-nav button.active {
  border-color: black;
  color: black;
}
.footer {

  padding: 40px 0;
  font-size: 0.9rem;
  color: #333;
  user-select: none;
}

.footer-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center; /* Centra todo horizontal */
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 30px;
  gap: 20px; /* Separación entre texto y nav */
}

.footer-copy {
  margin: 0;
  flex: 0 1 auto;
  text-align: center; /* Centra texto */
}

.footer-nav {
  flex: 0 1 auto;
  display: flex;
  justify-content: center; /* Centra links */
  gap: 25px;
}

.footer-nav a {
  color: #333;
  text-decoration: none;
  font-weight: 600;
  transition: color 0.3s ease;
}

.footer-nav a:hover,
.footer-nav a:focus {
  color: #000;
  text-decoration: underline;
  outline: none;
}

@media (max-width: 600px) {
  .footer-container {
    flex-direction: column;
    padding: 0 20px;
  }
  .footer-nav {
    margin-top: 15px;
    gap: 20px;
  }
  .footer-copy {
    margin-bottom: 0;
  }
}#sizeButtons button {
  background: none;
  border: none;
  padding: 10px 15px;  /* 10px arriba y abajo, 15px izquierda y derecha */
  margin: 10px 8px;    /* 10px arriba y abajo para más espacio, 8px horizontal */
  font-size: 1rem;
  cursor: pointer;
  color: #333;
  font-weight: normal;
  transition: color 0.3s ease;
  line-height: 1.2;
}


#sizeButtons button.selected {
  font-weight: bold;
  color: #000;
}

#sizeButtons button:hover:not(.selected) {
  color: #666;
}
#colorButtons {
  display: flex;
  gap: 12px;
  margin-top: 20px; /* Aquí agregas más espacio arriba */
  margin-bottom: 20px;
}


#colorButtons button {
  width: 36px;
  height: 36px;
  border-radius: 4px; /* Cuadrados con bordes redondeados suaves */
    border: 2px solid #bebebe;;
  cursor: pointer;
  transition: border-color 0.3s;
}

#colorButtons button.selected {
  border-color: black;
}


.tab-content {
  display: none;
  font-size: 1rem;
  line-height: 1.5;
  max-height: 450px;
  overflow-y: auto;
  padding-right: 10px;
}
.tab-content.active {
  display: block;
}
.tab-content::-webkit-scrollbar {
  width: 8px;
}
.footer-info a {
      margin: 0 10px;
      text-decoration: none;
      color: #333;
    }

    .footer-info a:hover {
      text-decoration: underline;
    }

    .btn-add {
      background: #fff;
      color: #000;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: bold;
      border-radius: 5px;
    }

    @media screen and (max-width: 600px) {
      .footer-flotante {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
.tab-content::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 4px;
}
.look-images {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}
.zoom-container {
  overflow: hidden;
  display: inline-block;
  position: relative;
}

.zoom-container img {
  transition: transform 0.3s ease;
  cursor: zoom-in;
  width: 100%;
  border-radius: 8px;
}

.zoom-container:hover img {
  transform: scale(1.5);
}

/* MODAL ESTILO SIMPLE PARA AMPLIAR IMAGEN */
.modal-image {
  display: none;
  position: fixed;
  z-index: 10000;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: zoom-out;
}

.modal-image img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 12px;
  box-shadow: 0 0 20px rgba(255,255,255,0.2);
}

.look-images img {
  width: 120px;
  border-radius: 8px;
  cursor: pointer;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.look-images img:hover {
  transform: scale(1.05);
}


  </style>
</head>
<body>
<!-- HEADER MODERNO -->
<header>
  <div class="menu-label" id="menu-toggle">MENÚ</div>
  <img src="100.png" alt="VogueCrest" class="logo" />
<a href="cesta.html" class="cart-icon">
CESTA <span id="cartCount" style="display:none; background:rgb(0, 0, 0); color:#fff; border-radius:50%; padding: 0 6px; font-size:14px; vertical-align:top;">0</span>
</a></header>
<nav class="menu-mobile" id="mobileMenu">
  <a href="index.html">INICIO</a>
  <a href="colecciones.html">COLECCIONES</a>
  <a href="acerca.html">ACERCA DE</a>
  <a href="editorial.html">EDITORIAL</a>
  <a href="looks.html">LOOKS</a>
  <a href="contacto.html">CONTACTANOS</a>
  <a href="sesion.html">INICIAR SESION</a>
    <a href="asistente.html">ASISTENTE</a>
  <a href="#" onclick="toggleMenu()">CERRAR</a>
</nav>


<div class="container">
  <a href="colecciones.html" class="back-link">&larr; Volver a Colecciones</a>

  <div class="product-detail">
    <div class="gallery">
      <div class="zoom-container">
        <img id="mainImage" class="main-image" src="" alt="Imagen principal producto" />
      </div>
      <div id="thumbnails" class="thumbnails"></div>
    </div>

    <div class="details">
      <h1 id="productName">Cargando...</h1>
      <div class="price" id="productPrice"></div>

     <label>Selecciona talla:</label>
<div id="sizeButtons" class="size-buttons"></div>

      <label>Selecciona color:</label>
<div id="colorButtons"></div>


      <button id="addToCartBtn">Añadir a la cesta</button>

      <div class="" id="accordionDetalle"></div>
      <div class="" id="productDescription"></div>

      <div class="" id="accordionMasDetalles"></div>
      <div class="panel" id="masDetalles"></div>

      <div class="detalle-flotante" id="openModalBtn">+ DETALLE</div>
    </div>
  </div>
</div>

<!-- MODAL + DETALLE -->
<div class="modal" id="modalDetalle" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
  <div class="modal-content">
    <span class="close-modal" id="closeModalBtn" aria-label="Cerrar">&times;</span>

    <nav class="tabs-nav" role="tablist">
      <button class="tab-btn active" data-tab="info">Información de la prenda</button>
      <button class="tab-btn" data-tab="envios">Envíos y devoluciones</button>
      <button class="tab-btn" data-tab="tallas">Guía de tallas</button>
      <button class="tab-btn" data-tab="looks">Ver looks</button>
      <button class="tab-btn" data-tab="contacto">Contacta con nosotros</button>
    </nav>

    <section id="info" class="tab-content active">
      <h2 id="modalTitle">Información de la prenda</h2>
      <p id="modalInfoContent">Cargando información...</p>
    </section>

    <section id="envios" class="tab-content">
      <h2>Envíos y devoluciones</h2>
      <ul>
        <li>Envío estándar: 3-5 días hábiles.</li>
        <li>Envío exprés: 1-2 días hábiles.</li>
        <li>Devoluciones gratuitas hasta 30 días después de la compra.</li>
        <li>Para devolver un producto, contacta con soporte.</li>
      </ul>
    </section>

    <section id="tallas" class="tab-content">
      <h2>Guía de tallas</h2>
      <table border="1" cellpadding="8" cellspacing="0" style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr><th>Talla</th><th>Pecho (cm)</th><th>Cintura (cm)</th><th>Largo (cm)</th></tr>
        </thead>
        <tbody>
          <tr><td>S</td><td>88-92</td><td>74-78</td><td>68</td></tr>
          <tr><td>M</td><td>92-96</td><td>78-82</td><td>70</td></tr>
          <tr><td>L</td><td>96-100</td><td>82-86</td><td>72</td></tr>
          <tr><td>XL</td><td>100-104</td><td>86-90</td><td>74</td></tr>
        </tbody>
      </table>
    </section>

    <section id="looks" class="tab-content">
      <h2>Ver looks</h2>
      <div class="look-images">
        <img src="03.png" alt="Look 1" />
        <img src="02.png" alt="Look 2" />
        <img src="04.png" alt="Look 3" />
        <img src="06.png" alt="Look 4" />
        <img src="0." alt="Look 5" />
      </div>
    </section>

    <section id="contacto" class="tab-content">
      <a href="contacto.html" class="back-link">&larr; Contactanos</a>
      <p>Para consultas y soporte, escríbenos:</p>
      <ul>
        <li>Email: <a href="mailto:soporte@voguecrest.com">soporte@voguecrest.com</a></li>
        <li>Teléfono: +505 1234 5678</li>
        <li>Horario: Lunes a Viernes, 9am - 6pm</li>
      </ul>
    </section>
  </div>
</div>

<!-- SECCIÓN PRODUCTOS RELACIONADOS -->
<section class="related-section" aria-label="Productos relacionados">
  <h2></h2>
  <div class="related-products"></div>
</section>
<footer class="footer">
  <div class="container footer-container">
    <p class="footer-copy">&copy; 2025 VogueCrest. Todos los derechos reservados.</p>
    <nav class="footer-nav" aria-label="Enlaces principales del sitio">
      
    </nav>
  </div>
</footer>



<!-- MODAL DE IMAGEN -->
<div class="modal-image" id="modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.85); justify-content:center; align-items:center; cursor: zoom-out;">
  <img id="modalImg" src="" alt="Imagen ampliada" style="max-width:90vw; max-height:90vh; object-fit:contain; border-radius:10px;">
</div>

  <script>
  const productos = {
  prenda1: {
    nombre: "NIGHTFLEX BAG – VogueCrest",
    imagenesPorColor: {
      Negro: ["013.png"],
    },
    imagenPrincipal: "013.png",
    descripcion: `La bolsa NIGHTFLEX de VogueCrest combina la resistencia de la tela deportiva negra con un diseño moderno y funcional. Su estructura firme y flexible se adapta a cada movimiento, mientras las asas reforzadas aseguran comodidad y durabilidad. El logo de VogueCrest, presente de forma elegante, aporta un sello de identidad contemporáneo. Perfecta para el uso diario y actividades deportivas, la NIGHTFLEX BAG fusiona estilo urbano con practicidad en una pieza imprescindible.`,
    precio: "C$1,600",
    medidas: ["30x20x10 cm", "40x25x15 cm"],
    colores: ["Negro"],
    stock: 10, // <-- STOCK DISPONIBLE
    relacionados: ["prenda1"],
  },

   prenda2: {
    nombre: "VOGUECREST ESSENTIAL LOGO CAP – ASH GREY",
    imagenesPorColor: {
      Gris: ["VOGUECREST ESSENTIAL LOGO CAP – ASH GREY.png","023.png","021.png","022.png"],
    },
    imagenPrincipal: "VOGUECREST ESSENTIAL LOGO CAP – ASH GREY.png",
    descripcion: `La gorra Essential Logo de VogueCrest redefine la elegancia urbana con un diseño minimalista y una construcción premium.

Confeccionada en ante sintético de alta calidad, ofrece un acabado suave tipo terciopelo en un tono gris ceniza, sobrio y moderno.

El logo icónico de VogueCrest en TPU negro resalta al frente, aportando un contraste sofisticado y una identidad fuerte.

Diseñada con visera precurvada, costuras tonales y correa ajustable posterior, combina comodidad y estilo para acompañarte en cualquier ocasión.`,
    precio: "C$550",
    tallas: ["Única ajustable"],
    circunferencia: "54-62 cm",
    colores: ["Gris"],
    stock: 2, // <-- PRODUCTO AGOTADO
    materiales: ["Tela deportiva", "Logo bordado", "Cierre ajustable"],
    relacionados: ["prendaA", "prendaF","prenda9"]
  },
 prenda3: {
    nombre: "VOGUECREST SHORT LIGHT DENIM – EDITION 01",
    imagenesPorColor: {
      Celeste : ["SHORT LIGHT DENIM – EDITION 01.png","112.png","113.jpeg"],
      Negro: ["011.png","115.png","117.jpeg"],
    },
    imagenPrincipal: "SHORT LIGHT DENIM – EDITION 01.png",
    descripcion: `El VOGUECREST SHORT LIGHT DENIM – EDITION 01 redefine lo esencial del denim con un enfoque moderno, fresco y versátil. Confeccionado en mezclilla de tono claro con acabado suave al tacto, este short combina funcionalidad y estilo en una silueta cómoda de corte recto.

Presenta un diseño minimalista con bolsillos laterales amplios, detalles metálicos pulidos y costuras reforzadas que aseguran durabilidad sin sacrificar estilo. Su fit relajado lo convierte en una prenda ideal para el día a día, adaptable tanto a outfits casuales como a looks urbanos más elaborados.

Parte de la primera edición cápsula de VogueCrest, este modelo celebra la esencia de la moda limpia, contemporánea y auténtica.`,
    precio: " C$750",
    tallas: ["S", "M", "L"],
    colores: ["Celeste", "Negro"],
    stock: 10,
    relacionados: ["prenda6"],
  },
   
 
  prenda4: {
    nombre: "VOGUECREST TEAM T-SHIRT – EDITION 01",
    imagenesPorColor: {
      Blanco: ["316.png","031.png","032.jpeg"],
      Negro:["309.png","310.png"],
    },
    imagenPrincipal: "015.png",
    descripcion: "La camiseta TEAM de VogueCrest fusiona la esencia vintage del fútbol con un toque moderno y urbano. Su silueta corta y ancha ofrece un volumen cómodo, mientras que las capas de malla añaden textura y dinamismo al diseño. El gran número estampado en el frente resalta el carácter único de la prenda, y la cinta personalizada en el cuello aporta ese detalle exclusivo que distingue a VogueCrest. Ideal para quienes buscan un estilo auténtico, fresco y con personalidad propia.",
    precio: "C$800",
    tallas: ["M", "L", "XL"],
    colores: ["Blanco","Negro"],
    
    stock: 5, // AGOTADO
    relacionados: ["prenda3", "prendaH"]
  },
    prenda5: {
        nombre: "CAMISETA VOGUECREST SKIN – BLACK EDITION",
        imagenesPorColor: {
          Negro: ["319.png","036.png","037.jpeg"],
          Rojo: ["035.png","034.png"],
        },
        imagenPrincipal: "09.png",
        descripcion: 'La camiseta SKIN Black Edition está confeccionada en algodón premium de 200 gramos, brindando cuerpo, caída y una sensación de calidad superior. El acabado teñido en prenda en color negro profundo aporta textura suave y un look atemporal, perfecto para cualquier ocasión ',
        precio: "C$800",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro","Rojo"],
            stock: 5, // AGOTADO

        relacionados: ["prenda2", "prenda4"]
      },
      prenda6: {
        nombre: "VOGUECREST SHORT BROWN – EDITION 01",
        imagenesPorColor: {
          Cafe: ["VOGUECREST SHORT BROWN – EDITION 01.png","324.jpeg"],
           Celeste : ["014.png","112.png","113.jpeg"],
      Negro: ["011.png","115.png","117.jpeg"],
        },
        imagenPrincipal: "VOGUECREST SHORT BROWN – EDITION 01.png",
         descripcion: `
Short en tono café de diseño limpio y corte moderno, confeccionado en tejido suave con textura ligera para máxima comodidad.

Parte de la primera edición de básicos esenciales VGC, esta pieza combina funcionalidad con estilo minimalista. Cintura elástica con ajuste seguro, acabado premium y etiqueta distintiva de la marca.

Ideal para uso diario, con carácter urbano y alma contemporánea.

.`,
        precio: " C$750",
        tallas: ["S", "M", "L", "XL"],
        colores: [ "Cafe","Celeste", "Negro"],
            stock: 5, // AGOTADO

        relacionados: ["prenda3"]
      },
      prenda7: {
        nombre: "VOGUECREST FOOTBALL TEE BLACK",
        imagenesPorColor: {
          Negro: ["VOGUECREST FOOTBALL TEE BLACK.png","306.png"],
          Blanco:["307.png","308.png"]
        },
        imagenPrincipal: "VOGUECREST FOOTBALL TEE BLACK.png",
       descripcion: `
Camiseta de fútbol estilo retro en color negro, confeccionada en malla ligera y transpirable. Corte cuadrado y ligeramente corto, ideal para llevar sola o en capas.

Estampado frontal VGC con presencia firme y el número 10 en la espalda como sello clásico. Cuello con detalle en contraste que eleva la estética deportiva con un toque moderno.

Diseñada para quienes visten con actitud dentro y fuera de la cancha.`,
        precio: " C$690",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro","Blanco"],
            stock: 2, // <-- PRODUCTO AGOTADO

        relacionados: ["prenda2", "prenda4"]
      },
  prenda8: {
        nombre: "VOGUECREST V-NECK BLOUSE WHITE",
        imagenesPorColor: {
          Blanco: ["8.png","320.png"]
        },
        imagenPrincipal: "8.png",
        descripcion: "La blusa blanca con cuello en V de VogueCrest está pensada para resaltar la elegancia natural y la comodidad femenina. Confeccionada en un tejido liviano y suave al tacto, su corte fluido se adapta al cuerpo con gracia. El escote en V estiliza el cuello, mientras que el diseño minimalista la convierte en una prenda ideal para ocasiones casuales o semi-formales. Perfecta para combinar con jeans, faldas o shorts de la colección VogueCrest.",
        precio: "C$380",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Blanco"],
        relacionados: ["prenda2", "prenda4"]
      }, prenda9: {
        nombre: "VOGUECREST LOGO CAP BLACK",
        imagenesPorColor: {
          Negro: ["15.png", "121.png","122.png","123.png"],
          Crema: ["22.png"]
        },
        imagenPrincipal: "15.png",
 descripcion: `
La gorra VOGUECREST está confeccionada en ante sintético estructurado con un acabado negro suave tipo terciopelo que realza su estética sobria y moderna.

En el panel frontal, el logo VogueCrest aporta un toque distintivo y elegante, mientras que en la parte trasera, el nombre VogueCrest va bordado con precisión, reafirmando la identidad de marca. Incluye visera precurvada, costuras tonales y correa ajustable para un fit personalizado.

Diseñada para elevar cualquier look con esencia minimalista y carácter urbano.`,        precio: "C$ 590",
    tallas: ["Única ajustable"], // ← CORREGIDO aquí
        colores: ["Negro", "Crema"],
            stock: 5, // AGOTADO

        relacionados: ["prenda2", "prendaA"]
      },
      prenda10: {
  nombre: "VGC ESSENTIAL SHORTS PACK (Black + Sand)",
  imagenesPorColor: {
       

        Negro: ["VGC ESSENTIAL SHORTS PACK (Black + Sand).png","311.jpeg","322.jpeg","323.jpeg"],

  },
  imagenPrincipal: "VGC ESSENTIAL SHORTS PACK (Black + Sand).png",
  descripcion: `

Shorts de algodón premium de tiro medio con ajuste relajado y acabado suave que se adapta a tu día a día.

Cada pack incluye 2 unidades en colores neutros. Diseñados con cintura elástica cómoda, detalles minimalistas y sello distintivo VGC. Frescos, funcionales y pensados para moverse contigo..`,  
  tallas: ["S", "M", "L", "XL"],
  colores: ["Negro"],
   stock: 5, // AGOTADO
  relacionados: ["prenda2", "prenda4"]
}, 
prenda11: {
  nombre: "VOGUECREST GREY ZIPPER SWEATER",
  imagenesPorColor: {
        Crema:["21.png"],
        Gris: ["20.png","303.png"],
        Negro: ["11.jpg","302.png"],
  },
  imagenPrincipal: "11.png",
  descripcion: `

El suéter gris con zipper de VogueCrest está diseñado para brindar comodidad y estilo en una sola prenda. Confeccionado en una mezcla de algodón suave y resistente, presenta un corte moderno con cierre frontal plateado que aporta funcionalidad y un toque sofisticado. Su diseño minimalista incluye la icónica placa plateada con el logo de VogueCrest en el pecho, lo que lo convierte en una prenda versátil para looks urbanos o casuales con actitud. Ideal para quienes buscan destacar con elegancia discreta.

`,
  precio: "C$1500",
  tallas: ["S", "M", "L", "XL"],
  colores: ["Gris","Negro", "Crema"],
  relacionados: ["prenda2", "prenda4"]
},
prenda12: {
  nombre: "VOGUECREST GREY ZIPPER SWEATER",
  imagenesPorColor: {
        Negro: ["11.jpg","302.png"],
         Crema:["21.png"],
        Gris: ["20.png","303.png"],
  },
  imagenPrincipal: "10.png",
  descripcion: `

El suéter gris con zipper de VogueCrest está diseñado para brindar comodidad y estilo en una sola prenda. Confeccionado en una mezcla de algodón suave y resistente, presenta un corte moderno con cierre frontal plateado que aporta funcionalidad y un toque sofisticado. Su diseño minimalista incluye la icónica placa plateada con el logo de VogueCrest en el pecho, lo que lo convierte en una prenda versátil para looks urbanos o casuales con actitud. Ideal para quienes buscan destacar con elegancia discreta.

`,
  precio: "C$1500",
     

  tallas: ["S", "M", "L", "XL"],
  colores: ["Negro","Gris", "Crema"],
  relacionados: ["prenda2", "prenda4"]
},
prenda13: {
  nombre: "VOGUECREST SHORT BLACK – EDITION 01 R",
  imagenesPorColor: {
        Negro: ["011.png"],
        Celeste:["014.png"],
        Cafe: ["018.png"],
  },
  imagenPrincipal: "011.png",
  descripcion: `

Short en tono negro de diseño limpio y corte moderno, confeccionado en tejido suave con textura ligera para máxima comodidad.

Parte de la primera edición de básicos esenciales VGC, esta pieza combina funcionalidad con estilo minimalista. Cintura elástica con ajuste seguro, acabado premium y etiqueta distintiva de la marca.

Ideal para uso diario, con carácter urbano y alma contemporánea.
`,
  precio: "C$750",
  tallas: ["S", "M", "L", "XL"],
  colores: [,"Negro","Celeste","Cafe"],
  relacionados: ["prenda2", "prenda4"]
},
       prendaA: {
        nombre: "SUEDE LOGO CAP NEGRO",
        imagenesPorColor: {
          Negro: ["42.png", "124.png","122.png","123.png"],
          Crema: ["22.png"]
        },
        imagenPrincipal: "42.png",
        descripcion:`
La SUEDE LOGO CAP en color negro es una reinterpretación sofisticada de la gorra clásica. Confeccionada en tela tipo gamuza (suede) de alta calidad, ofrece una textura suave y un acabado mate que aporta distinción sin perder su esencia urbana.

Su diseño minimalista presenta una estructura de seis paneles con visera curva, ajuste trasero regulable y el icónico logo VogueCrest bordado al frente en tono tonal, manteniendo una estética limpia y elegante.

Ideal para completar looks casuales, monocromáticos o de inspiración streetwear, esta gorra es una pieza atemporal que equilibra estilo y sencillez con un toque de lujo discreto.
`,
        precio: "C$ 990",
    tallas: ["Única ajustable"], // ← CORREGIDO aquí
        colores: ["Negro", "Crema"],
        relacionados: ["prenda2", "prenda9"]
      },
      prendaB: {
        nombre: "SKIN TANK TOP BROWN",
        imagenesPorColor: {
          Negro: ["43.jpg","304.jpeg"],
          Marron:["7.jpg","305.jpeg"],
        },
        imagenPrincipal: "43.jpg",
        descripcion: `

Camisetas de tirantes ajustadas confeccionadas en algodón acanalado, con estampado limpio en el pecho y una variante con estampado de camuflaje integral.

Diseñadas para ajustarse al cuerpo con una silueta limpia y minimalista.`,
        precio: "$28.00",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro","Marron", ],
        relacionados: ["prenda7", "prendaJ"]
      },
       prendaC: {
        nombre: "VOGUECREST ELEGANT V-NECK SHIRT",
        imagenesPorColor: {
                  Negro: ["341.png","340.png"],      
        },
        imagenPrincipal: "21.png",
          descripcion: `
Camisa de corte elegante con cuello en V, confeccionada en tejido suave y ligero que ofrece comodidad y sofisticación.

En el frente, un discreto estampado VGC realza la identidad de la marca con estilo minimalista. La parte trasera mantiene un diseño limpio y liso, ideal para un look pulido y versátil.

Perfecta para ocasiones formales o casuales, diseñada para quienes valoran la simplicidad con carácter.

`,
        precio: "C$850",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro"],
        relacionados: ["prenda2", "prenda4"]
      },
      prendaD: {
        nombre: "VOGUECREST MASTERPIECE JEANS – GRAFFITI EDITION ",
        imagenesPorColor: {
          Celeste: ["012.png","328.png","113.jpeg"]
        },
        imagenPrincipal: "012.png",
         descripcion: `
Jeans de pierna ancha y tiro bajo con acabado deslavado, silueta imponente y carácter urbano.

La edición MASTERPIECE de VogueCrest combina arte callejero y diseño contemporáneo con un estampado tipo grafiti de "LA" y el logotipo VogueCrest deslizado en clave disruptiva. Textura cruda, detalles estratégicamente desgastados y una construcción pensada para destacar.

Una pieza de declaración, hecha para quienes visten sin miedo y con identidad propia.`,
        precio: "C$1,290",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Celeste"],
        relacionados: ["prenda2", "prenda4"]
      },
      prendaE: {
        nombre: "LEGENDARY SMOKE HOODIE DARK",
        imagenesPorColor: {
          Gris: ["108.png","107.jpeg","109.jpeg"]
        },
            stock: 5, // AGOTADO

        imagenPrincipal: "106.png",
        descripcion:  `
La sudadera LEGENDARY SMOKE presenta una composición visual en estilo collage que rinde homenaje al ícono del baloncesto Kobe Bryant. Su diseño envolvente integra elementos gráficos como humo, tipografías distorsionadas y arte urbano, todo impreso sobre una base de algodón con efecto lavado vintage.

Esta hoodie de corte oversized destaca por su estética callejera contemporánea. Confeccionada en felpa suave, incorpora capucha amplia sin cordón, bolsillos tipo canguro y acabados acanalados en puños y cintura, ofreciendo una silueta cómoda y estructurada.

Ideal para quienes buscan una prenda audaz que combine homenaje, moda y cultura urbana.


    `,
        precio: "C$ 2,000",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Gris"],
        relacionados: ["prenda11", "prendaH"],
            stock: 2, // <-- PRODUCTO AGOTADO

      },
      prendaF: {
        nombre: "VGC TANK TOP",
        imagenesPorColor: {
          Cafe: ["VGC TANK TOP.png"],
          Crema: ["331.png"],
          Negro: ["332.png"]
        },
        imagenPrincipal: "330.png",
         descripcion:  `
Camiseta de tirantes ajustada confeccionada en algodón acanalado de alta calidad, con tacto suave y estructura flexible.

Estampado limpio VGC en el pecho que refuerza la identidad de la marca con un enfoque sutil y contemporáneo. Diseñada para ceñirse al cuerpo con una silueta limpia y minimalista, ideal para usar sola o como base en capas.

Una prenda esencial con carácter propio y versatilidad diaria.


    `,
        precio: "C$490",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Cafe","Crema", "Negro"],
        relacionados: ["prenda2", "prenda4"]
      },
      prendaG: {
        nombre: "VOGUECREST DENIM SHORT BLACK",
        imagenesPorColor: {
          Negro: ["10.png","315.png"],
        },
        imagenPrincipal: "10.png",
        descripcion: "Un básico reinventado con estilo urbano: el VOGUECREST DENIM SHORT BLACK combina la resistencia clásica del jean con un diseño moderno. Este short negro presenta el nombre VogueCrest estampado en la parte inferior, aportando un detalle distintivo y elegante. Perfecto para looks casuales y urbanos, ofrece comodidad y durabilidad para el día a día con la esencia auténtica de VogueCrest.",
        precio: "C$700",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro"],
        relacionados: ["prenda2", "prenda4"]
      },
      prendaH: {
        nombre: "VOGUECREST BLACK ZIPPER SWEATER",
        imagenesPorColor: {
           Negro: ["11.jpg","302.png"],
          Gris: ["20.png","303.png"],
          Crema: ["21.png"]
        },
        imagenPrincipal: "11.jpg",
        descripcion: "Un suéter negro con cierre metálico que combina estilo y carácter. Diseñado para quienes prefieren lo simple pero poderoso, esta pieza encarna la esencia urbana de VogueCrest: limpia, sólida y con actitud. Ideal para climas frescos, su tela gruesa y su corte relajado lo convierten en una prenda esencial para dominar la calle con elegancia.",
        precio: "C$1500",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro", "Gris","Crema"],
        relacionados: ["prenda2", "prenda4"]
      },
        prendaI: {
        nombre: "VOGUECREST OVERSIZE LIGHT GREY LIGHTNING TEE",
        imagenesPorColor: {
          Gris: ["12.png"]
        },
        imagenPrincipal: "12.png",
        descripcion: "Marca tendencia con la VOGUECREST OVERSIZE LIGHT GREY LIGHTNING TEE, una camisa gris oversize decorada con impactantes rayos negros que evocan energía y movimiento. El icónico logo VogueCrest resalta en el diseño, fusionando estilo urbano y comodidad en una sola prenda. Perfecta para un look casual pero lleno de personalidad, diseñada para quienes buscan destacar con audacia y comodidad.",
        precio: "C$800",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Gris"],
        relacionados: ["prenda2", "prenda4"]
      },
      prendaJ: {
        nombre:  "SKIN UNDERWEAR",
        imagenesPorColor: {
          Cafe: ["17.png", "16.png"],
          Negro: ["18.png"]
        },
        imagenPrincipal: "17.png",
         descripcion: `

Ropa interior de algodón de tiro medio con acabado suave al tacto y silueta limpia.

Cada pack incluye 2 unidades en colores surtidos. Diseñada con cinturilla elástica flexible y branding GNG. Suave, transpirable y pensada para el uso diario.`,
        precio: "C$500",
        tallas: ["S", "M", "L", "XL"],
        colores: ["Negro","Cafe"],
        relacionados: ["prenda10", "prendaB"]
      },
      
    }
document.addEventListener("DOMContentLoaded", () => {
  // Obtener parámetro producto de URL
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }
  const productoId = getQueryParam("producto");
  const producto = productos[productoId];

  // Contador carrito en header
  const cartCount = document.getElementById("cartCount");
  function actualizarContadorCarrito() {
    const carrito = JSON.parse(localStorage.getItem("voguecrest_cart")) || [];
    const totalCantidad = carrito.reduce((acc, item) => acc + item.cantidad, 0);
    if (cartCount) {
      cartCount.textContent = totalCantidad;
      cartCount.style.display = totalCantidad > 0 ? "inline-block" : "none";
    }
  }

  // Actualiza lista global de productos agotados en localStorage
  function actualizarEstadoAgotadosGlobal() {
    const stockPorProducto = {};
    // Inicializa con stock original
    for (const id in productos) {
      stockPorProducto[id] = productos[id].stock;
    }
    const carrito = JSON.parse(localStorage.getItem("voguecrest_cart")) || [];
    carrito.forEach(item => {
      if (stockPorProducto[item.id] !== undefined) {
        stockPorProducto[item.id] -= item.cantidad;
      }
    });

    // Lista agotados
    const agotados = [];
    for (const id in stockPorProducto) {
      if (stockPorProducto[id] <= 0) {
        agotados.push(id);
      }
    }
    localStorage.setItem("voguecrest_agotados", JSON.stringify(agotados));
  }

  // Referencias DOM
  const sizeButtonsContainer = document.getElementById("sizeButtons");
  const colorButtonsContainer = document.getElementById("colorButtons");
  const cantidadInput = document.getElementById("quantityInput");
  const addToCartBtn = document.getElementById("addToCartBtn");
  const mainImage = document.getElementById("mainImage");
  const thumbnailsContainer = document.getElementById("thumbnails");

  // Modal imagen
  const modalImagen = document.getElementById('modal');
  const modalImg = document.getElementById('modalImg');

  // Modal detalle
  const openModalBtn = document.getElementById("openModalBtn");
  const modalDetalle = document.getElementById("modalDetalle");
  const closeModalBtn = document.getElementById("closeModalBtn");

  // Si no hay producto, mostrar mensaje y ocultar controles
  if (!producto) {
    const productName = document.getElementById("productName");
    if (productName) productName.textContent = "Producto no encontrado";
    if (mainImage) mainImage.style.display = "none";
    if (sizeButtonsContainer) sizeButtonsContainer.style.display = "none";
    if (colorButtonsContainer) colorButtonsContainer.style.display = "none";
    if (cantidadInput) cantidadInput.style.display = "none";
    if (addToCartBtn) addToCartBtn.style.display = "none";
    if (openModalBtn) openModalBtn.style.display = "none";
    return;
  }

  // Mostrar info básica producto
  const productName = document.getElementById("productName");
  const productPrice = document.getElementById("productPrice");
  const productDescription = document.getElementById("productDescription");
  if (productName) productName.textContent = producto.nombre;
  if (productPrice) productPrice.textContent = producto.precio;
  if (productDescription) productDescription.textContent = producto.descripcion;

  // Crear botones tallas o medidas
  function crearBotonesTallasOMedidas() {
    if (!sizeButtonsContainer) return;
    sizeButtonsContainer.innerHTML = "";

    const opciones = producto.medidas || producto.tallas;
    const esBolso = !!producto.medidas;

    // Cambiar el label según corresponda
    const labelTallas = document.querySelector("label[for='sizeButtons']");
    if (labelTallas) {
      labelTallas.textContent = esBolso ? "Selecciona medida:" : "Selecciona talla:";
    }

    opciones.forEach((valor, i) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.textContent = valor;
      btn.dataset.value = valor;
      btn.className = "size-btn";
      if (i === 0) btn.classList.add("selected");
      btn.addEventListener("click", () => {
        sizeButtonsContainer.querySelectorAll("button").forEach(b => b.classList.remove("selected"));
        btn.classList.add("selected");
        actualizarEstadoBoton();
      });
      sizeButtonsContainer.appendChild(btn);
    });
  }

  // Mapear color a HEX (amplía si quieres)
  function mapColorNameToHex(nombre) {
    const mapa = {
      "Negro": "#000000",
      "Gris": "#808080",
      "Celeste": "#87CEEB",
      "Blanco": "#ffffff",
      "Cafe" : "#573e2b",
      "Crema" : "#ede1cb",
      "Marron": "#713b17",
      "Rojo" : "#c61c1d",
      // Puedes añadir más colores aquí
    };
    return mapa[nombre] || "#888888";
  }

  // Crear botones colores
  function crearBotonesColores() {
    if (!colorButtonsContainer) return;
    colorButtonsContainer.innerHTML = "";
    producto.colores.forEach((color, index) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "color-btn";
      btn.style.backgroundColor = mapColorNameToHex(color);
      btn.title = color;
      btn.dataset.value = color;
      if (index === 0) btn.classList.add("selected");
      btn.addEventListener("click", () => {
        colorButtonsContainer.querySelectorAll("button").forEach(b => b.classList.remove("selected"));
        btn.classList.add("selected");
        cargarImagenes(color);
        actualizarEstadoBoton();
      });
      colorButtonsContainer.appendChild(btn);
    });
  }

  // Obtener color seleccionado
  function getColorSeleccionado() {
    if (!colorButtonsContainer) return producto.colores[0];
    const selectedBtn = colorButtonsContainer.querySelector("button.selected");
    return selectedBtn ? selectedBtn.dataset.value : producto.colores[0];
  }

  // Cargar miniaturas por color
  function cargarImagenes(color) {
    if (!thumbnailsContainer) return;
    thumbnailsContainer.innerHTML = "";
    const imgs = producto.imagenesPorColor[color] || [];
    imgs.forEach((src, index) => {
      const img = document.createElement("img");
      img.src = src;
      img.alt = `${producto.nombre} ${color} ${index + 1}`;
      img.className = index === 0 ? "selected" : "";
      img.addEventListener("click", () => {
        if (mainImage) mainImage.src = src;
        thumbnailsContainer.querySelectorAll("img").forEach(i => i.classList.remove("selected"));
        img.classList.add("selected");
      });
      thumbnailsContainer.appendChild(img);
    });
    if (imgs.length > 0 && mainImage) mainImage.src = imgs[0];
  }

  // Actualizar estado botón según stock y carrito
  function actualizarEstadoBoton() {
    const talla = sizeButtonsContainer?.querySelector("button.selected")?.dataset.value || "";
    const color = getColorSeleccionado();
    const cantidadSeleccionada = cantidadInput ? parseInt(cantidadInput.value) || 1 : 1;

    // Buscar cantidad actual en carrito para misma combinacion
    let carrito = JSON.parse(localStorage.getItem("voguecrest_cart")) || [];
    const indexExistente = carrito.findIndex(item =>
      item.id === productoId &&
      item.talla === talla &&
      item.color === color
    );
    const cantidadEnCarrito = indexExistente !== -1 ? carrito[indexExistente].cantidad : 0;

    const stockRestante = producto.stock - cantidadEnCarrito;

    if (stockRestante <= 0) {
      addToCartBtn.textContent = "AGOTADO";
      addToCartBtn.disabled = true;
      addToCartBtn.style.backgroundColor = "#ccc";
      addToCartBtn.style.color = "#555";
      addToCartBtn.style.cursor = "not-allowed";
      if (cantidadInput) {
        cantidadInput.disabled = true;
        cantidadInput.value = 0;
      }
    } else {
      addToCartBtn.textContent = "Añadir a la cesta";
      addToCartBtn.disabled = false;
      addToCartBtn.style.backgroundColor = "";
      addToCartBtn.style.color = "";
      addToCartBtn.style.cursor = "pointer";
      if (cantidadInput) {
        cantidadInput.disabled = false;
        cantidadInput.min = 1;
        cantidadInput.max = stockRestante;
        if (cantidadSeleccionada > stockRestante) cantidadInput.value = stockRestante;
        else if (cantidadSeleccionada <= 0) cantidadInput.value = 1;
      }
    }
  }

  // Inicializar UI
  crearBotonesTallasOMedidas();
  crearBotonesColores();
  if (cantidadInput) {
    cantidadInput.value = 1;
    cantidadInput.min = 1;
  }
  if (mainImage) mainImage.src = producto.imagenPrincipal;
  cargarImagenes(producto.colores[0]);
  actualizarContadorCarrito();
  actualizarEstadoBoton();

  // Listeners para actualizar estado botón al cambiar cantidad, talla o color
  if (cantidadInput) cantidadInput.addEventListener("input", actualizarEstadoBoton);
  if (colorButtonsContainer) colorButtonsContainer.addEventListener("click", actualizarEstadoBoton);
  if (sizeButtonsContainer) sizeButtonsContainer.addEventListener("click", actualizarEstadoBoton);

  // Añadir producto al carrito al hacer click en botón
  if (addToCartBtn) {
    addToCartBtn.addEventListener("click", () => {
      const talla = sizeButtonsContainer.querySelector("button.selected")?.dataset.value || "";
      const color = getColorSeleccionado();
      const cantidad = cantidadInput ? parseInt(cantidadInput.value) || 1 : 1;

      let carrito = JSON.parse(localStorage.getItem("voguecrest_cart")) || [];
      const indexExistente = carrito.findIndex(item =>
        item.id === productoId &&
        item.talla === talla &&
        item.color === color
      );

      const cantidadEnCarrito = indexExistente !== -1 ? carrito[indexExistente].cantidad : 0;
      const stockRestante = producto.stock - cantidadEnCarrito;

      if (cantidad > stockRestante) {
        alert(`No hay suficiente stock. Solo quedan ${stockRestante} unidades disponibles.`);
        return;
      }

      const productoCarrito = {
        id: productoId,
        nombre: producto.nombre,
        talla,
        color,
        cantidad,
        precio: producto.precio,
        imagen: producto.imagenPrincipal
      };

      if (indexExistente !== -1) {
        carrito[indexExistente].cantidad += cantidad;
      } else {
        carrito.push(productoCarrito);
      }

      localStorage.setItem("voguecrest_cart", JSON.stringify(carrito));
      actualizarContadorCarrito();
      actualizarEstadoBoton();
      actualizarEstadoAgotadosGlobal();
    });
  }

  // Modal imagen principal
  if (mainImage) {
    mainImage.alt = producto.nombre;
    mainImage.addEventListener("click", () => {
      if (modalImg && modalImagen) {
        modalImg.src = mainImage.src;
        modalImagen.style.display = "flex";
      }
    });
  }
  if (modalImagen) {
    modalImagen.addEventListener("click", e => {
      if (e.target === modalImagen) modalImagen.style.display = "none";
    });
  }
  document.addEventListener("keydown", e => {
    if (e.key === "Escape" && modalImagen && modalImagen.style.display === "flex") {
      modalImagen.style.display = "none";
    }
  });

  // Abrir modal detalle
  if (openModalBtn && modalDetalle) {
    openModalBtn.addEventListener("click", () => {
      modalDetalle.style.display = "block";
    });
  }

  // Cerrar modal detalle con botón cruz
  if (closeModalBtn && modalDetalle) {
    closeModalBtn.addEventListener("click", () => {
      modalDetalle.style.display = "none";
    });
  }

  // Cerrar modal detalle haciendo click fuera contenido
  if (modalDetalle) {
    modalDetalle.addEventListener("click", e => {
      if (e.target === modalDetalle) {
        modalDetalle.style.display = "none";
      }
    });
  }

  // Cerrar modal detalle con tecla Escape
  document.addEventListener("keydown", e => {
    if (e.key === "Escape" && modalDetalle && modalDetalle.style.display === "block") {
      modalDetalle.style.display = "none";
    }
  });

  // Pestañas internas modal detalle
  if (modalDetalle) {
    const tabButtons = modalDetalle.querySelectorAll(".tab-btn");
    const tabContents = modalDetalle.querySelectorAll(".tab-content");

    tabButtons.forEach(button => {
      button.addEventListener("click", () => {
        tabButtons.forEach(btn => btn.classList.remove("active"));
        tabContents.forEach(content => content.classList.remove("active"));

        button.classList.add("active");
        const tabId = button.getAttribute("data-tab");
        const contentToShow = modalDetalle.querySelector(`#${tabId}`);
        if (contentToShow) contentToShow.classList.add("active");
      });
    });
  }

  // Menú móvil toggle
  const toggleBtn = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobileMenu');
  if (toggleBtn && mobileMenu) {
    toggleBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('show');
    });
  }

  // Pausar scroll en carruseles (opcional)
  function setupCarouselPause(carouselId) {
    const track = document.getElementById(carouselId);
    if (!track) return;

    track.addEventListener('mouseenter', () => track.classList.add('pause'));
    track.addEventListener('mouseleave', () => track.classList.remove('pause'));
    track.addEventListener('touchstart', () => track.classList.add('pause'));
    track.addEventListener('touchend', () => setTimeout(() => track.classList.remove('pause'), 3000));
  }
  setupCarouselPause('carousel1');
  setupCarouselPause('carousel2');
});


  </script>
  
</body>
</html>
