<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Colecciones - VogueCrest</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: #fff;
      color: #000;
      overflow-x: hidden;
      font-family: Arial, sans-serif;
    }

    /* HEADER MODERNO */
    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
      z-index: 1000;
      background: white;
    }

    .menu-label, .cart-label {
      cursor: pointer;
      text-transform: uppercase;
      font-size: 14px;
      user-select: none;
      position: relative;
    }

   .cart-label {
  color: black !important;      /* Que el texto sea negro */
  text-decoration: none !important; /* Sin subrayado ni rayas */
  outline: none !important;      /* Quita el borde de enfoque */
  user-select: none;
  cursor: pointer;
}
.cart-label:focus,
.cart-label:active,
.cart-label:visited {
  color: black !important;
  text-decoration: none !important;
  outline: none !important;
}


    /* El número de items en cesta */
    #cartCount {
      position: absolute;
      top: -8px;
      right: -15px;
      background: #000000;
      color: white;
      font-size: 12px;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 12px;
      min-width: 20px;
      text-align: center;
      pointer-events: none;
    }

    .logo {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      height: 40px;
      object-fit: contain;
    }

    /* Menú móvil */
    nav.menu-mobile {
      position: fixed;
      top: 60px;
      left: -100%;
      width: 100%;
      height: calc(100vh - 60px);
      background: white;
      color: black;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 24px;
      font-size: 18px;
      z-index: 9999;
      transition: left 0.3s ease-in-out;
    }

    nav.menu-mobile.show {
      left: 0;
    }

    nav.menu-mobile a {
      color: black;
      text-decoration: none;
      width: 100%;
      text-align: center;
      user-select: none;
    }

    nav.menu-mobile a:hover {
      background: #f0f0f0;
    }

    /* FILTRO tipo texto horizontal simple */
    .filter-text {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 80px; /* espacio para header fijo */
      margin-bottom: 20px;
      flex-wrap: wrap;
      padding: 0 10px;
      text-transform: uppercase;
      font-size: 14px;
      user-select: none;
    }
    .filter-text span {
      cursor: pointer;
      position: relative;
      color: #000;
      transition: color 0.3s;
    }
    .filter-text span.active,
    .filter-text span:hover {
      color: #000;
    }
    .filter-text span.active::after,
    .filter-text span:hover::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      height: 2px;
      width: 100%;
      background: #000;
      border-radius: 2px;
    }

   .carousel-section {
      overflow: hidden;
      width: 100%;
      padding: 20px 0;
    }

    .carousel-container {
      width: 100%;
      overflow-x: auto;
      position: relative;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory; /* hace que deslice una prenda a la vez */
    }

    .carousel-track {
      display: flex;
      gap: 20px;
      flex-wrap: nowrap;
      animation: scroll 15s linear infinite; /* animación automática del primer carrusel */
    }

    .carousel-track.pause {
      animation-play-state: paused; /* pausa animación al hover o toque */
    }

    .carousel-item {
      flex: 0 0 auto;
      width: 280px;
      height: 360px;
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s;
      scroll-snap-align: start;
    }

    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s;
    }

    .carousel-item:hover img {
      transform: scale(1.05);
    }

    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    @media (max-width: 600px) {
      .carousel-track {
        gap: 10px;
        padding-left: 10px;
        animation: none; /* sin animación en móvil para scroll manual */
      }

      .carousel-item {
        width: 90vw;
        height: 380px;
      }

      .carousel-item img {
        height: 100%;
      }

      .carousel-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
      }
    }

    /* Footer simple fijo abajo */
    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #f7f7f7;
      padding: 15px 20px;
      border-top: 1px solid #ddd;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
    }

    /* Responsive */
    @media (max-width: 720px) {
      body {
        padding-bottom: 120px;
      }
    }

    /* --- ESTILOS MODAL FILTRO --- */
    .filter-button {
      cursor: pointer;
      font-size: 14px;
      text-transform: uppercase;
      user-select: none;
      font-weight: 700;
      background: transparent;
      border: 2px solid #000;
      padding: 6px 12px;
      border-radius: 6px;
      transition: background-color 0.3s, color 0.3s;
      margin-left: 10px;
    }
    .filter-button:hover {
      background-color: #000;
      color: #fff;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 99999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: #fff;
      padding: 25px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      position: relative;
    }
    .close-modal {
      position: absolute;
      right: 20px;
      top: 15px;
      font-size: 22px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }
    #modalFilterText span {
      display: inline-block;
      margin: 10px;
      padding: 8px 16px;
      border-radius: 20px;
      background-color: #eee;
      cursor: pointer;
      user-select: none;
    }
    #modalFilterText .active {
      background-color: #000;
      color: #fff;
    }
  </style>
</head>
<body>

<header>
  <div class="menu-label" id="menu-toggle">MENÚ</div>
  <img src="100.png" alt="VogueCrest" class="logo" />
  <a href="cesta.html" class="cart-label" id="cartLabel" aria-label="Ir a la cesta de compras">
    CESTA
    <span class="cart-count" id="cartCount">0</span>
  </a>
</header>
<nav class="menu-mobile" id="mobileMenu">
  <a href="index.html">INICIO</a>
  <a href="colecciones.html">COLECCIONES</a>
  <a href="acerca.html">ACERCA DE</a>
  <a href="editorial.html">OUT & ABOUT</a>
  <a href="looks.html">LOOKS</a>
  <a href="contacto.html">CONTACTANOS</a>
  <a href="sesion.html">INICIAR SESION</a>
  <a href="cuenta.html">CUENTA</a>
    <a href="asistente.html">ASISTENTE</a>
  <a href="#" onclick="toggleMenu()">CERRAR</a>
</nav>
<!-- FILTRO texto original -->
<div class="filter-text" id="filterText">
  <main>
    <div class="active" id="openFilterModal">FILTRAR</div>
</div>

<!-- CARRUSEL 1 -->
<section class="carousel-section">
  <div class="carousel-container">
    <div class="carousel-track" id="carousel1">
      <div class="carousel-item" data-category="">
        <a href="producto.html?producto=prenda1" class="carousel-link">
          <img src="013.png" alt="Prenda 1" />
        </a>
      </div>
      <div class="carousel-item" data-category="Gorras">
        <a href="producto.html?producto=prenda2" class="carousel-link">
          <img src="019.png" alt="Prenda 2" />
        </a>
      </div>
      <div class="carousel-item" data-category="Shorts">
        <a href="producto.html?producto=prenda3" class="carousel-link">
          <img src="014.png" alt="Prenda 3" />
        </a>
      </div>
      <div class="carousel-item" data-category="camisetas">
        <a href="producto.html?producto=prenda4" class="carousel-link">
          <img src="015.png" alt="Prenda 4" />
        </a>
      </div>
      <div class="carousel-item" data-category="camisetas">
        <a href="producto.html?producto=prenda5" class="carousel-link">
          <img src="016.png" alt="Prenda 5" />
        </a>
      </div>
      <div class="carousel-item" data-category="Shorts">
        <a href="producto.html?producto=prenda6" class="carousel-link">
          <img src="018.png" alt="Prenda 6" />
        </a>
      </div>
      <div class="carousel-item" data-category="Camisetas">
        <a href="producto.html?producto=prenda7" class="carousel-link">
          <img src="7.jpg" alt="Prenda 7" />
        </a>
      </div>
      <div class="carousel-item" data-category="Camisetas">
        <a href="producto.html?producto=prenda8" class="carousel-link">
          <img src="8.png" alt="Prenda 8" />
        </a>
      </div>
      <div class="carousel-item" data-category="Gorras">
        <a href="producto.html?producto=prenda9" class="carousel-link">
          <img src="15.png" alt="Prenda 8" />
        </a>
      </div>
      <div class="carousel-item" data-category="Shorts">
        <a href="producto.html?producto=prenda10" class="carousel-link">
          <img src="19.png" alt="Prenda 8" />
        </a>
      </div>
      <div class="carousel-item" data-category="Sueteres">
        <a href="producto.html?producto=prenda11" class="carousel-link">
          <img src="20.png" alt="Prenda 8" />
        </a>
      </div>
      <!-- Duplicado para animacion -->
      <div class="carousel-item" data-category="">
        <a href="producto.html?producto=prenda1" class="carousel-link">
          <img src="10.png" alt="Prenda 1" />
        </a>
      </div>
      <div class="carousel-item" data-category="">
        <a href="producto.html?producto=prenda2" class="carousel-link">
          <img src="11.jpg" alt="Prenda 2" />
        </a>
      </div>
      <div class="carousel-item" data-category="">
        <a href="producto.html?producto=prenda12" class="carousel-link">
          <img src="011.png" alt="Prenda 2" />
        </a>
      </div>
    </div>
  </div>
</section>

<!-- CARRUSEL 2 (sin filtro) -->
<section class="carousel-section">
  <div class="carousel-container">
    <div class="carousel-track" id="carousel2">
      <div class="carousel-item">
        <a href="producto.html?producto=prendaA" class="carousel-link">
          <img src="42.png" alt="Prenda A" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaB" class="carousel-link">
          <img src="43.jpg" alt="Prenda B" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaC" class="carousel-link">
          <img src="21.png" alt="Prenda C" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaD" class="carousel-link">
          <img src="012.png" alt="Prenda D" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaE" class="carousel-link">
          <img src="106.png" alt="Prenda E" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaF" class="carousel-link">
          <img src="22.png" alt="Prenda F" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaG" class="carousel-link">
          <img src="10.png" alt="Prenda G" />
        </a>
      </div>
      <div class="carousel-item">
        <a href="producto.html?producto=prendaH" class="carousel-link">
          <img src="11.jpg" alt="Prenda H" />
        </a>
      </div>

      <!-- Duplicado -->
      <div class="carousel-item" data-category="camisetas">
        <a href="producto.html?producto=prendaI" class="carousel-link">
          <img src="12.png" alt="Prenda I" />
        </a>
      </div>
      <div class="carousel-item" data-category="camisetas">
        <a href="producto.html?producto=prendaJ" class="carousel-link">
          <img src="17.png" alt="Prenda J" />
        </a>
      </div>
      <div class="carousel-item" data-category="camisetas">
        <a href="producto.html?producto=prendaK" class="carousel-link">
          <img src="09.png" alt="Prenda K" />
        </a>
      </div>
    </div>
  </div>
</section>
</main>

<!-- Modal de filtro -->
<div id="filterModal" class="modal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <h3>Filtrar por categoría</h3>
    <div class="filter-text" id="modalFilterText">
      <span class="active" data-filter="all">Mostrar todo</span>
      <span data-filter="camisetas">Camisetas</span>
      <span data-filter="Pantalones">Pantalones</span>
      <span data-filter="Gorras">Gorras</span>
      <span data-filter="Shorts">Shorts</span>
      <span data-filter="Sueteres">Sueteres</span>
    </div>
  </div>
</div>

<footer>
  &copy; 2025 VogueCrest. Todos los derechos reservados.
</footer>

<script>document.addEventListener('DOMContentLoaded', () => {
  // Limpia la lista de agotados al cargar la página
  localStorage.removeItem('voguecrest_agotados');

  // Contador cesta
  function actualizarContadorCesta() {
    const cart = JSON.parse(localStorage.getItem('voguecrest_cart')) || [];
    let totalCantidad = 0;
    cart.forEach(item => {
      totalCantidad += item.cantidad || 1;
    });
    const contador = document.getElementById('cartCount');
    if (contador) {
      contador.textContent = totalCantidad;
      contador.style.display = totalCantidad === 0 ? 'none' : 'inline-block';
    }
  }
  actualizarContadorCesta();

  // Obtener id producto desde href
  function obtenerProductoDesdeHref(href) {
    try {
      const url = new URL(href, window.location.origin);
      return url.searchParams.get('producto');
    } catch (e) {
      return null;
    }
  }

  // Marca/agrega etiqueta "AGOTADO" SOLO para productos que estén en localStorage 'voguecrest_agotados'
  function marcarAgotadosSegunProductoHtml() {
    const agotados = JSON.parse(localStorage.getItem('voguecrest_agotados')) || [];
    const items = document.querySelectorAll('.carousel-item');

    items.forEach(item => {
      const link = item.querySelector('a.carousel-link');
      if (!link) return;

      const productoId = obtenerProductoDesdeHref(link.href);
      if (!productoId) return;

      if (agotados.includes(productoId)) {
        if (!item.querySelector('.agotado-label')) {
          const label = document.createElement('div');
          label.textContent = 'AGOTADO';
          label.className = 'agotado-label';
          Object.assign(label.style, {
            position: 'absolute',
            top: '10px',
            left: '10px',
            backgroundColor: 'rgba(255, 0, 0, 0.8)',
            color: 'white',
            padding: '4px 8px',
            fontWeight: 'bold',
            borderRadius: '5px',
            zIndex: '10',
            fontSize: '14px',
            pointerEvents: 'none',
          });
          item.style.position = 'relative';
          item.appendChild(label);
        }
        link.style.pointerEvents = 'none';
        link.style.opacity = '0.5';
      } else {
        const labelExistente = item.querySelector('.agotado-label');
        if (labelExistente) labelExistente.remove();
        link.style.pointerEvents = 'auto';
        link.style.opacity = '1';
      }
    });
  }

  marcarAgotadosSegunProductoHtml();

  // Función para actualizar la lista de productos agotados
  function actualizarEstadoAgotados(productoId, stockRestante) {
    let agotados = JSON.parse(localStorage.getItem('voguecrest_agotados')) || [];

    if (stockRestante <= 0) {
      if (!agotados.includes(productoId)) {
        agotados.push(productoId);
      }
    } else {
      agotados = agotados.filter(id => id !== productoId);
    }

    localStorage.setItem('voguecrest_agotados', JSON.stringify(agotados));
  }

  // Función para agregar producto al carrito y actualizar agotados
  function agregarAlCarrito(productoId, nombre, talla, color, cantidad, precio, imagen, stock) {
    let carrito = JSON.parse(localStorage.getItem('voguecrest_cart')) || [];
    const indexExistente = carrito.findIndex(item =>
      item.id === productoId &&
      item.talla === talla &&
      item.color === color
    );

    const cantidadEnCarrito = indexExistente !== -1 ? carrito[indexExistente].cantidad : 0;
    const stockRestante = stock - cantidadEnCarrito;

    if (cantidad > stockRestante) {
      alert(`No hay suficiente stock. Solo quedan ${stockRestante} unidades disponibles.`);
      return false;
    }

    const productoCarrito = {
      id: productoId,
      nombre,
      talla,
      color,
      cantidad,
      precio,
      imagen
    };

    if (indexExistente !== -1) {
      carrito[indexExistente].cantidad += cantidad;
    } else {
      carrito.push(productoCarrito);
    }

    localStorage.setItem('voguecrest_cart', JSON.stringify(carrito));
    actualizarContadorCesta();

    // Actualizar estado agotados
    actualizarEstadoAgotados(productoId, stockRestante - cantidad);

    // Actualizar etiquetas en la página (si está visible)
    marcarAgotadosSegunProductoHtml();

    return true;
  }

  // Aquí puedes agregar eventos a botones "Añadir al carrito"
  // Ejemplo: document.querySelectorAll('.btn-add-cart').forEach(btn => { ... });

  // Menú móvil
  const toggleBtn = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobileMenu');
  if (toggleBtn && mobileMenu) {
    toggleBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('show');
    });
  }

  // Pausar scroll en carouseles
  function setupCarouselPause(carouselId) {
    const track = document.getElementById(carouselId);
    if (!track) return;
    track.addEventListener('mouseenter', () => track.classList.add('pause'));
    track.addEventListener('mouseleave', () => track.classList.remove('pause'));
    track.addEventListener('touchstart', () => track.classList.add('pause'));
    track.addEventListener('touchend', () => setTimeout(() => track.classList.remove('pause'), 3000));
  }
  setupCarouselPause('carousel1');
  setupCarouselPause('carousel2');
});



</script>

</body>
</html>
