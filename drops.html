<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VogueCrest - Drops “Origen”</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    :root {
      --bg-img: url("a0179811e0c526f493ff36a50012d7b7.jpg");
      --clr-text: #101010;
      --clr-accent: #ffffff;
      --clr-shadow: rgba(0,0,0,0.4);
      --font-main: 'Segoe UI', sans-serif;
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: var(--font-main);
      background-image: var(--bg-img);
      background-size: cover;
      color: var(--clr-text);
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #splash {
      position: fixed; inset:0;
      background-image: var(--bg-img);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      opacity: 0; visibility: hidden; z-index:2000;
      animation: fadeIn 0.6s ease forwards;
    }
    #splash img {
      width:120px; opacity:0; transform:scale(0.5);
      animation: logoIn 1s ease forwards; animation-delay:0.3s;
    }
    #splash h1 {
      margin-top:16px; font-size:32px; letter-spacing:4px; color:#fff;
      opacity:0; transform:translateY(20px);
      animation: textIn 1s ease forwards; animation-delay:0.8s;
    }
    @keyframes fadeIn { to { opacity:1; visibility:visible; } }
    @keyframes logoIn { to { opacity:1; transform:scale(1); } }
    @keyframes textIn { to { opacity:1; transform:translateY(0); } }
    @keyframes fadeOut { to { opacity:0; visibility:hidden; } }

    #content {
      display: none;
      flex-direction: column;
      align-items: center;
      padding-bottom:80px;
      width: 100%;
      max-width: 1024px;
      margin: 0 auto;
    }
    header.page-header {
      text-align:center; margin:30px 0 15px;
    }
    header.page-header img {
      width:110px; filter:drop-shadow(0 0 4px var(--clr-accent)); border-radius:20px;
    }
    .brand-name {
      margin-top:8px; font-size:32px; font-weight:900;
      color:var(--clr-accent); letter-spacing:3px;
      text-shadow:0 0 6px var(--clr-accent);
    }
    .drop-name {
      margin-top:4px; font-size:24px; font-weight:700;
      color:#c9c9c7; letter-spacing:1px;
    }
    .today-date {
      margin-top:6px; font-size:1rem; color:#ffffff;
    }
    #temporizador {
      display:flex; gap:12px; margin:20px 0 25px;
      font-weight:700; font-size:1.5rem; flex-wrap: wrap; justify-content: center;
      color: #fff;
    }
    #temporizador span {
      background:rgba(255,255,255,0.8); padding:6px 10px;
      border-radius:6px; min-width:40px; text-align:center;
      color:var(--clr-text);
    }
    .productos-drop {
      display:flex; flex-wrap:wrap; justify-content:center;
      gap:20px; width:100%; padding:0 15px 30px;
    }
    .producto {
      background:rgba(255,255,255,0.9);
      border-radius:16px; box-shadow:0 6px 20px var(--clr-shadow);
      width:280px; display:flex; flex-direction:column;
      overflow:hidden; transition:transform .25s;
    }
    .producto:hover { transform:translateY(-8px); }
    .producto img {
      width:100%; height:180px; object-fit:cover;
      border-bottom:1px solid #ccc;
    }
    .producto h3 { margin:12px 18px 6px; font-size:1.2rem; font-weight:800; }
    .producto p { margin:0 18px 10px; color:#555; font-size:.9rem; flex-grow:1; }
    .btn-group { display:flex; gap:10px; padding:0 18px 18px; }
    .btn-cart, .btn-reserve {
      flex:1; padding:10px; border:none; border-radius:8px;
      font-weight:700; cursor:pointer; transition:.3s;
    }
    .btn-cart { background:var(--clr-accent); color:var(--clr-text); }
    .btn-cart:hover { background:#ddd; }
    .btn-reserve { background:#c9c9c7; color:var(--clr-text); }
    .btn-reserve:hover { background:#e61700; }

    .btn-fijos {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 1500;
    }
    .btn-fijos button {
      width: 48px;
      height: 48px;
      border: none;
      border-radius: 50%;
      font-size: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    #btn-carrito { background: var(--clr-accent); color: var(--clr-text); }
    #btn-reservas { background: #ff6a59; color: var(--clr-text); }

    .contador {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--clr-text);
      color: var(--clr-accent);
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @media (max-width: 480px) {
      .brand-name { font-size: 24px; }
      .drop-name { font-size: 18px; }
      .producto { width: 100%; }
      .btn-cart, .btn-reserve { font-size: 0.85rem; padding: 8px; }
      .btn-fijos { top: 12px; right: 12px; gap: 8px; }
      .btn-fijos button { width: 42px; height: 42px; font-size: 18px; }
    }
  </style>
</head>
<body>

  <div id="splash">
    <img src="Think-removebg-preview.png" alt="Logo VogueCrest" />
    <h1>Origen</h1>
  </div>

  <div id="content" aria-live="polite">
    <header class="page-header">
      <img src="Think-removebg-preview.png" alt="VogueCrest Logo"/>
      <div class="brand-name">VOGUECREST</div>
      <div class="drop-name">“Origen”</div>
      <div class="today-date" id="today-date"></div>
    </header>

    <div id="temporizador" role="timer" aria-live="polite">
      <span id="dias">0</span>d
      <span id="horas">0</span>h
      <span id="minutos">0</span>m
      <span id="segundos">0</span>s
    </div>

    <section class="productos-drop" aria-label="Lista de productos de drops"></section>

    <div class="btn-fijos" aria-label="Botones de acceso rápido">
      <button id="btn-carrito" aria-label="Abrir carrito" onclick="window.location.href='carrito.html'">
        <i class="bi bi-cart-fill"></i>
        <div id="contador-carrito" class="contador"></div>
      </button>
      <button id="btn-reservas" aria-label="Ver reservas">
        <i class="bi bi-calendar-check-fill"></i>
        <div id="contador-reservas" class="contador"></div>
      </button>
    </div>
  </div>

  <script>
    const splash = document.getElementById('splash');
    const content = document.getElementById('content');
    splash.style.opacity = '1'; splash.style.visibility = 'visible';

    setTimeout(() => {
      splash.style.animation = 'fadeOut 0.6s ease forwards';
      setTimeout(() => {
        splash.style.display = 'none';
        content.style.display = 'flex';
      }, 600);
    }, 2000);

    document.getElementById('today-date').textContent = new Date().toLocaleDateString('es-ES', {
      weekday:'long', year:'numeric', month:'long', day:'numeric'
    });

    const drops = [
      { nombre:"Dreamguard – Edición Limitada", desc:"Fusión urbana y etérea en una sola pieza.", img:"Think (1).png", precio: 55.00 },
      { nombre:"Éter Pulse", desc:"Corte limpio con vibraciones futuristas.", img:"6.png", precio: 40.00 },
      { nombre:"Luz Fractal", desc:"Estampado geométrico inspirado en arte digital.", img:"3.png", precio: 50.00 },
    ];

    const cont = document.querySelector('.productos-drop');
    drops.forEach((p, i) => {
      const art = document.createElement('article');
      art.className = 'producto'; art.tabIndex = 0;
      art.innerHTML = `
        <img src="${p.img}" alt="${p.nombre}" />
        <h3>${p.nombre}</h3>
        <p>${p.desc}</p>
        <div class="btn-group">
          <button class="btn-cart" aria-label="Agregar ${p.nombre} al carrito">Carrito</button>
          <button class="btn-reserve" aria-label="Reservar ${p.nombre}">Reservar</button>
        </div>`;
      cont.appendChild(art);
    });

    let carrito = JSON.parse(localStorage.getItem('vc_carrito')) || [];
    let reservas = JSON.parse(localStorage.getItem('vc_reservas')) || [];
    const cntC = document.getElementById('contador-carrito');
    const cntR = document.getElementById('contador-reservas');

    function save(){
      localStorage.setItem('vc_carrito', JSON.stringify(carrito));
      localStorage.setItem('vc_reservas', JSON.stringify(reservas));
    }

    function updCnt(){
      cntC.textContent = carrito.length || '';
      cntR.textContent = reservas.length || '';
    }
    updCnt();

    document.querySelectorAll('.btn-cart').forEach((b,i)=>{
      b.onclick = () => {
        // Ver si ya existe el producto en carrito
        const idx = carrito.findIndex(item => item.nombre === drops[i].nombre);
        if(idx !== -1) {
          carrito[idx].cantidad++;
        } else {
          carrito.push({
            nombre: drops[i].nombre,
            img: drops[i].img,
            precio: drops[i].precio,
            cantidad: 1
          });
        }
        save(); updCnt();
        // Redirigir al carrito con info
        window.location.href = 'carrito.html';
      };
    });

    document.querySelectorAll('.btn-reserve').forEach((b,i)=>{
      b.onclick = () => {
        reservas.push({ nombre: drops[i].nombre, fecha: new Date().toISOString().split('T')[0] });
        save(); updCnt();
        alert(`Has reservado: ${drops[i].nombre}`);
      };
    });

    // Temporizador cuenta regresiva 3 días
    const end = new Date(Date.now()+3*24*60*60*1000);
    function updateTimer(){
      const d = end - new Date();
      if(d<=0) {
        clearInterval(iv);
        document.getElementById('temporizador').textContent="¡Drops finalizados!";
        return;
      }
      const days = Math.floor(d/86400000),
            hrs = Math.floor((d%86400000)/3600000),
            mins = Math.floor((d%3600000)/60000),
            secs = Math.floor((d%60000)/1000);
      document.getElementById('dias').textContent = days;
      document.getElementById('horas').textContent = hrs;
      document.getElementById('minutos').textContent = mins;
      document.getElementById('segundos').textContent = secs;
    }
    updateTimer();
    const iv = setInterval(updateTimer, 1000);
  </script>
</body>
</html>
